{% extends 'base.html' %}
{% load crispy_forms_filters %}

{% block content %}

<section id="AAC">
  <div class="container">
  <div class="container">
      <div class = "card  bg-light mb-12 shadow-lg p-1 rounded">
      <div class="card-body">
          <form method="POST" enctype="multipart/form-data">
              {% csrf_token %}
              {{ form|crispy }}
              <input type="submit" class="btn btn-secondary btn" value="Calculate Mark"/>
          </form>
      </div>    
      </div>

      {% if datas %}  
      <div class="card-body">
        <table class="table table-striped table-light table-hover shadow rounded">
          <thead class = "thead-dark">
            <tr>
              <th>Name</th>
              <th>Subject</th>
              <th>Marks</th>            
              <th></th>
            </tr>
          </thead>
          {% for data in datas %}
          <tbody class>  
            <tr>
              <td>{{ data.student_name }}</td>
              <td>{{ data.subject_name }}</td>
              <td>{{ data.marks }}</td>
              <td>
                <form action="{% url 'delete' data.id %}" method="POST" class="d-inline-block">
                    {% csrf_token %}
                    <input type="submit" class="btn btn-sm btn-danger" value="Delete"/>
                </form>
              </td>
            </tr>
          </tbody>
          {% endfor %}
        </table>
      {% endif %}
      </div>
  </div>
  </div>
</section>

{% endblock %}
